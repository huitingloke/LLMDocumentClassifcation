# FYPDocumentSorter

## Description

This repository contains an automated document classifier for financial institutions. The categories to be classified are listed in the schema below. Currently we only have the classification function ready, and the search functions will be ready in a few weeks' time. Our current dataset consist of documents scraped from online news sources and regulations, as well as synthetic documents (such as contracts) generated by AI. Certain files and functions would require API access, for example, OpenAI API was used in the implementation of LangChain.

## Setup

* Clone the repository
* Create a new terminal window and from there, create a new virtual environment with the command `virtualenv env`
* Activate the environment
    * Mac: `source env/bin/activate`
    * Windows: `env\Scripts\activate`
* Install the requirements with the command `pip install -r requirements.txt`
* Create a folder called `chromadb_persistent_storage`
    * Leave this folder empty, it will be used to store the documents in the vectorized database
* Run the application with the command `python gradio_demo.py`

### Setup for Locally Hosting LLMs

We are currently using Ollama as the host for local LLMs, which requires an external installation from their [website](https://ollama.com/download). Kindly follow the instructions on their website to install the software, and if there is a function to add the path to the executable to the environment variables, please do so (particularly for Windows users).

After installing `ollama`, you may run the following commands to install the required models
* `ollama pull deepseek-r1:7b`
* `ollama pull llama3.1:8b`

## Current (Proposed) Schema

* `doc_id` -- UUID4 generation of unique document ID
* `date_uploaded` -- Date and time of the document's upload
* `author` -- Person who uploaded the document
* `doc_type`: `dict` -- Type of documents
* `level 1`: `str` -- 'Internal', 'External'
* `level 2`: `str` -- 'Contracts - Employment, NDAs', 'Contracts - Joint Venture, Merger', 'Contracts - Purchase, Sale Agreements', 'Contracts - Rental, Licensing, Loans', 'T&Cs', 'Privacy Policy', 'Own Financial Data & Reports', 'Regulations - Banking', 'Regulations - Insurance', 'Regulations - Others', 'News - AI & Tech in Finance', 'News - Banking & Private Credit', 'News - Global Trends & Financial Stability', 'News - Socioeconomic Issues', 'News - Others', 'Compliance'
* `comments` -- Comments on the document
* `model_type` -- Large Language Model used to classify the document -- currently available to
    * DeepseekR1-7B (Locally Hosted)
    * Llama3.1-8B (Locally Hosted)
    * OpenAI's GPT-3.5-Turbo (API)

### Available Classification categories

The following categories are available for classification. There are 2 levels of categories, being Level 1 (either internal or external) and Level 2, the specific option to Level 1. 

Level 2 Categories (Internal): 
- Contracts - Employment, NDAs
- Contracts - Joint Venture, Merger
- Contracts - Purchase, Sale Agreements
- Contracts - Rental, Licensing, Loans
- T&Cs
- Privacy Policy
- Own Financial Data & Reports
- Compliance

Level 2 Categories (External): 
- Regulations - Banking
- Regulations - Insurance
- Regulations - Others
- News - AI & Tech in Finance
- News - Banking & Private Credit
- News - Global Trends & Financial Stability
- News - Socioeconomic Issues
- News - Others

> [!NOTE]  
> The assistance of ChatGPT and Cody were used to aid in the programming of this repository. 